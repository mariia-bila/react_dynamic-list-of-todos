(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{14:function(e,t,s){},15:function(e,t,s){},16:function(e,t,s){},18:function(e,t,s){},19:function(e,t,s){"use strict";s.r(t);var n=s(7),c=s.n(n),r=s(2),a=s(3),o=s(5),i=s(4),l=s(1),u=s.n(l),d=(s(14),s(15),s(9)),h=s.n(d),j=(s(16),s(0)),p=function(e){Object(o.a)(s,e);var t=Object(i.a)(s);function s(){var e;Object(r.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={value:"",selected:"all"},e.getPreparedTodos=function(){return e.props.todos.filter((function(t){switch(e.state.selected){case"completed":return!0===t.completed;case"active":return!1===t.completed;default:return t}}))},e}return Object(a.a)(s,[{key:"render",value:function(){var e=this,t=this.props.selectUser,s=this.getPreparedTodos().filter((function(t){return t.title.includes(e.state.value)}));return Object(j.jsxs)("div",{className:"TodoList",children:[Object(j.jsx)("h2",{children:"Todos:"}),Object(j.jsxs)("div",{className:"TodoList__list-container",children:[Object(j.jsx)("input",{placeholder:"Enter the title of todo",value:this.state.value,onChange:function(t){return e.setState({value:t.target.value})}}),Object(j.jsxs)("select",{value:this.state.selected,onChange:function(t){return e.setState({selected:t.target.value})},children:[Object(j.jsx)("option",{value:"all",children:"All"}),Object(j.jsx)("option",{value:"active",children:"Active"}),Object(j.jsx)("option",{value:"completed",children:"Completed"})]}),Object(j.jsx)("ul",{className:"TodoList__list",children:s.map((function(e){return Object(j.jsxs)("li",{className:h()("TodoList__item",{"TodoList__item--checked":e.completed},{"TodoList__item--unchecked":!e.completed}),children:[Object(j.jsxs)("label",{htmlFor:String(e.id),children:[Object(j.jsx)("input",{type:"checkbox",id:String(e.id),checked:e.completed,readOnly:!0}),Object(j.jsx)("p",{children:e.title})]}),Object(j.jsx)("button",{className:" TodoList__user-button TodoList__user-button--selected button ",type:"button",onClick:function(){t(e.userId)},children:e.userId})]},e.id)}))})]})]})}}]),s}(u.a.Component),b=(s(18),"https://mate.academy/students-api"),m=function(e){return fetch("".concat(b,"/users/").concat(e)).then((function(e){return e.json()}))},f=function(e){Object(o.a)(s,e);var t=Object(i.a)(s);function s(){var e;Object(r.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={user:null},e}return Object(a.a)(s,[{key:"componentDidMount",value:function(){var e=this;m(this.props.userId).then((function(t){e.setState({user:t})}))}},{key:"componentDidUpdate",value:function(e){var t=this;e.userId!==this.props.userId&&m(this.props.userId).then((function(e){t.setState({user:e})}))}},{key:"render",value:function(){var e=this;return this.state.user&&Object(j.jsxs)("div",{className:"CurrentUser",children:[Object(j.jsx)("h2",{className:"CurrentUser__title",children:Object(j.jsx)("span",{children:"Selected user: ".concat(this.props.userId)})}),Object(j.jsx)("h3",{className:"CurrentUser__name",children:this.state.user.name}),Object(j.jsx)("p",{className:"CurrentUser__email",children:this.state.user.email}),Object(j.jsx)("p",{className:"CurrentUser__phone",children:this.state.user.phone}),Object(j.jsx)("button",{type:"button",onClick:function(){return e.setState({user:null})},children:"Clear"})]})}}]),s}(u.a.Component),v=function(e){Object(o.a)(s,e);var t=Object(i.a)(s);function s(){var e;Object(r.a)(this,s);for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={selectedUserId:0,todos:null,errorMessage:""},e.selectUser=function(t){t!==e.state.selectedUserId&&e.setState({selectedUserId:t})},e}return Object(a.a)(s,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(b,"/todos")).then((function(e){return e.ok?e.json():Promise.reject(new Error("Some error message"))})).then((function(t){e.setState({todos:t})})).catch((function(){e.setState({errorMessage:"Can't load todos"})}))}},{key:"render",value:function(){var e=this.state.selectedUserId;return Object(j.jsxs)("div",{className:"App",children:[this.state.todos&&Object(j.jsxs)("div",{className:"App__sidebar",children:[this.state.errorMessage,Object(j.jsx)(p,{todos:this.state.todos,selectUser:this.selectUser})]}),Object(j.jsx)("div",{className:"App__content",children:Object(j.jsx)("div",{className:"App__content-container",children:e?Object(j.jsx)(f,{userId:this.state.selectedUserId}):"No user selected"})})]})}}]),s}(u.a.Component),O=v;c.a.render(Object(j.jsx)(O,{}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.7231a6f2.chunk.js.map